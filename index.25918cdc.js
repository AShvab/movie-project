!function(){var e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],n="api_key=a3ba6241cf3e8caa1456599894b81cc2",t="https://api.themoviedb.org/3",i="".concat(t,"/discover/movie?sort_by=popularity.desc&").concat(n),a="https://image.tmdb.org/t/p/w500",c="".concat(t,"/search/movie?").concat(n),d=document.getElementById("main"),o=document.getElementById("form"),s=document.getElementById("search"),r=document.getElementById("tags"),l=document.getElementById("prev"),m=document.getElementById("current"),u=document.getElementById("next"),v=1,h=2,g=3,f="",p=1e3,E=[];function y(){r.innerHTML="",e.forEach((function(e){var n=document.createElement("div");n.classList.add("tag"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(function(){0===E.length?E.push(e.id):E.includes(e.id)?E.forEach((function(n,t){n===e.id&&E.splice(t,1)})):E.push(e.id),console.log(E),I(i+"&with_genres="+encodeURI(E.join(","))),L()})),r.append(n)}))}function L(){document.querySelectorAll(".tag").forEach((function(e){e.classList.remove("highlight")})),b(),0!==E.length&&E.forEach((function(e){document.getElementById(e).classList.add("highlight")}))}function b(){var e=document.getElementById("clear");if(e)e.classList.add("clear-btn");else{var n=document.createElement("div");n.classList.add("tag","clear-btn"),n.id="clear",n.innerText="Clear X",n.addEventListener("click",(function(){E=[],y(),I(i)})),tags.append(n)}}function I(e){f=e,fetch(e).then((function(e){return e.json()})).then((function(e){0!==e.results.length?(!function(e){d.innerHTML="",e.forEach((function(e){var n,t=e.title,i=e.poster_path,c=e.vote_average,o=e.overview,s=document.createElement("div");s.classList.add("movie"),s.innerHTML='\n        <img src="'.concat(i?a+i:"http://via.placeholder.com/1080x1580",'" alt="').concat(t,'" width="300" height="450">\n        <div class="movie-info">\n        <h3>').concat(t,'</h3>\n        <span class="').concat((n=c,n>=8?"green":n>=5?"orange":"red"),'">').concat(c.toFixed(1),'</span>        \n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ').concat(o,"\n        </div>\n        "),d.appendChild(s)}))}(e.results),v=e.page,h=v+1,g=v-1,p=e.total_pages,m.innerText=v,v<=1?(l.classList.add("disabled"),u.classList.remove("disabled")):v>=p?(l.classList.remove("disabled"),u.classList.add("disabled")):(l.classList.remove("disabled"),u.classList.remove("disabled")),r.scrollIntoView({behavior:"smooth"})):d.innerHTML='<h2 class="no-results">No results found</h2>'}))}function B(e){var n=f.split("?"),t=n[1].split("&"),i=t[t.length-1].split("=");if(i[0]!==e){I(f+"&page="+e)}else{i[1]=e.toString();var a=i.join("=");t[t.length-1]=a;var c=t.join("&");I(n[0]+"?"+c)}}y(),I(i),o.addEventListener("submit",(function(e){e.preventDefault();var n=s.value;E=[],L(),I(n?c+"&query="+n:i)})),l.addEventListener("click",(function(){g>0&&B(g)})),u.addEventListener("click",(function(){h<=p&&B(h)}))}();
//# sourceMappingURL=index.25918cdc.js.map
