!function(){var e="api_key=a3ba6241cf3e8caa1456599894b81cc2",n="https://api.themoviedb.org/3",t="".concat(n,"/discover/movie?sort_by=popularity.desc&").concat(e),i="https://image.tmdb.org/t/p/w500",a="".concat(n,"/search/movie?").concat(e),c=document.getElementById("main"),d=document.getElementById("form"),o=document.getElementById("search"),r=document.getElementById("tags"),s=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],m=[];function l(){r.innerHTML="",s.forEach((function(e){var n=document.createElement("div");n.classList.add("tag"),n.id=e.id,n.innerText=e.name,n.addEventListener("click",(function(){0===m.length?m.push(e.id):m.includes(e.id)?m.forEach((function(n,t){n===e.id&&m.splice(t,1)})):m.push(e.id),console.log(m),v(t+"&with_genres="+encodeURI(m.join(","))),u()})),r.append(n)}))}function u(){document.querySelectorAll(".tag").forEach((function(e){e.classList.remove("highlight")})),h(),0!==m.length&&m.forEach((function(e){document.getElementById(e).classList.add("highlight")}))}function h(){var e=document.getElementById("clear");if(e)e.classList.add("clear-btn");else{var n=document.createElement("div");n.classList.add("tag","clear-btn"),n.id="clear",n.innerText="Clear X",n.addEventListener("click",(function(){m=[],l(),v(t)})),tags.append(n)}}function v(e){fetch(e).then((function(e){return e.json()})).then((function(e){0!==e.results.length?function(e){c.innerHTML="",e.forEach((function(e){var n,t=e.title,a=e.poster_path,d=e.vote_average,o=e.overview,r=document.createElement("div");r.classList.add("movie"),r.innerHTML='\n        <img src="'.concat(a?i+a:"http://via.placeholder.com/1080x1580",'" alt="').concat(t,'" width="300" height="450">\n        <div class="movie-info">\n        <h3>').concat(t,'</h3>\n        <span class="').concat((n=d,n>=8?"green":n>=5?"orange":"red"),'">').concat(d.toFixed(1),'</span>        \n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ').concat(o,"\n        </div>\n        "),c.appendChild(r)}))}(e.results):c.innerHTML='<h2 class="no-results">No results found</h2>'}))}l(),v(t),d.addEventListener("submit",(function(e){e.preventDefault();var n=o.value;m=[],u(),v(n?a+"&query="+n:t)}))}();
//# sourceMappingURL=index.3aac7bd7.js.map
