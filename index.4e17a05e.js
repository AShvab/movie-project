const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=a3ba6241cf3e8caa1456599894b81cc2",n=document.getElementById("main"),i=document.getElementById("form"),a=document.getElementById("search"),s=document.getElementById("tags"),d=document.getElementById("prev"),l=document.getElementById("current"),o=document.getElementById("next");let c=1,r=2,m=3,h="",g=1e3,u=[];function v(){s.innerHTML="",e.forEach((({id:e,name:n})=>{const i=document.createElement("div");i.classList.add("tag"),i.id=e,i.innerText=n,i.addEventListener("click",(()=>{0===u.length?u.push(e):u.includes(e)?u=u.filter((t=>t!==e)):u.push(e),console.log(u),b(t+"&with_genres="+encodeURI(u.join(","))),p()})),s.append(i)}))}function p(){document.querySelectorAll(".tag").forEach((e=>{e.classList.remove("highlight")})),y(),0!==u.length&&u.forEach((e=>{document.getElementById(e).classList.add("highlight")}))}function y(){let e=document.getElementById("clear");if(e)e.classList.add("clear-btn");else{let e=document.createElement("div");e.classList.add("tag","clear-btn"),e.id="clear",e.innerText="Clear X",e.addEventListener("click",(()=>{u=[],v(),b(t)})),tags.append(e)}}function b(e){h=e,fetch(e).then((e=>e.json())).then((e=>{0!==e.results.length?(!function(e){n.innerHTML="",e.forEach((e=>{const{title:t,poster_path:i,vote_average:a,overview:s}=e,d=document.createElement("div");var l;d.classList.add("movie"),d.innerHTML=`\n        <img class="movie-poster" src="${i?"https://image.tmdb.org/t/p/w500"+i:"http://via.placeholder.com/1080x1580"}" alt="${t}" width="300" height="450">\n        <div class="movie-info">\n        <h3>${t}</h3>\n        <span class="${l=a,l>=8?"green":l>=5?"orange":"red"}">${a.toFixed(1)}</span>\n        <img class="movie-trailer" width="50" height="40" src="https://www.freepnglogos.com/uploads/youtube-play-red-logo-png-transparent-background-6.png" alt="youtube-trailer">\n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ${s}\n        </div>\n        `,n.appendChild(d)}))}(e.results),c=e.page,r=c+1,m=c-1,g=e.total_pages,l.innerText=c,c<=1?(d.classList.add("disabled"),o.classList.remove("disabled")):c>=g?(d.classList.remove("disabled"),o.classList.add("disabled")):(d.classList.remove("disabled"),o.classList.remove("disabled")),s.scrollIntoView({behavior:"smooth"})):n.innerHTML='<h2 class="no-results">No results found</h2>'}))}function f(e){let t=h.split("?"),n=t[1].split("&"),i=n[n.length-1].split("=");if(i[0]!==e){b(h+"&page="+e)}else{i[1]=e.toString();let a=i.join("=");n[n.length-1]=a;let s=n.join("&");b(t[0]+"?"+s)}}v(),b(t),i.addEventListener("submit",(e=>{e.preventDefault();const n=a.value;u=[],p(),b(n?"https://api.themoviedb.org/3/search/movie?api_key=a3ba6241cf3e8caa1456599894b81cc2&query="+n:t)})),d.addEventListener("click",(()=>{m>0&&f(m)})),o.addEventListener("click",(()=>{r<=g&&f(r)}));
//# sourceMappingURL=index.4e17a05e.js.map
