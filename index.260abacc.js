const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],n="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=a3ba6241cf3e8caa1456599894b81cc2",t=document.getElementById("main"),i=document.getElementById("form"),a=document.getElementById("search"),d=document.getElementById("tags");let c=[];function s(){d.innerHTML="",e.forEach((e=>{const t=document.createElement("div");t.classList.add("tag"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(()=>{0===c.length?c.push(e.id):c.includes(e.id)?c.forEach(((n,t)=>{n===e.id&&c.splice(t,1)})):c.push(e.id),console.log(c),m(n+"&with_genres="+encodeURI(c.join(","))),o()})),d.append(t)}))}function o(){document.querySelectorAll(".tag").forEach((e=>{e.classList.remove("highlight")})),r(),0!==c.length&&c.forEach((e=>{document.getElementById(e).classList.add("highlight")}))}function r(){let e=document.getElementById("clear");if(e)e.classList.add("clear-btn");else{let e=document.createElement("div");e.classList.add("tag","clear-btn"),e.id="clear",e.innerText="Clear X",e.addEventListener("click",(()=>{c=[],s(),m(n)})),tags.append(e)}}function m(e){fetch(e).then((e=>e.json())).then((e=>{0!==e.results.length?function(e){t.innerHTML="",e.forEach((e=>{const{title:n,poster_path:i,vote_average:a,overview:d}=e,c=document.createElement("div");var s;c.classList.add("movie"),c.innerHTML=`\n        <img src="${i?"https://image.tmdb.org/t/p/w500"+i:"http://via.placeholder.com/1080x1580"}" alt="${n}" width="300" height="450">\n        <div class="movie-info">\n        <h3>${n}</h3>\n        <span class="${s=a,s>=8?"green":s>=5?"orange":"red"}">${a.toFixed(1)}</span>        \n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ${d}\n        </div>\n        `,t.appendChild(c)}))}(e.results):t.innerHTML='<h2 class="no-results">No results found</h2>'}))}s(),m(n),i.addEventListener("submit",(e=>{e.preventDefault();const t=a.value;c=[],o(),m(t?"https://api.themoviedb.org/3/search/movie?api_key=a3ba6241cf3e8caa1456599894b81cc2&query="+t:n)}));
//# sourceMappingURL=index.260abacc.js.map
