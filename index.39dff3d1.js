const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=a3ba6241cf3e8caa1456599894b81cc2",n=document.getElementById("main"),i=document.getElementById("form"),a=document.getElementById("search"),d=document.getElementById("tags"),s=document.getElementById("prev"),c=document.getElementById("current"),l=document.getElementById("next");let o=1,r=2,m=3,h="",v=1e3,g=[];function u(){d.innerHTML="",e.forEach((({id:e,name:n})=>{const i=document.createElement("div");i.classList.add("tag"),i.id=e,i.innerText=n,i.addEventListener("click",(()=>{0===g.length?g.push(e):g.includes(e)?g=g.filter((t=>t!==e)):g.push(e),console.log(g),E(t+"&with_genres="+encodeURI(g.join(","))),p()})),d.append(i)}))}function p(){document.querySelectorAll(".tag").forEach((e=>{e.classList.remove("highlight")})),y(),0!==g.length&&g.forEach((e=>{document.getElementById(e).classList.add("highlight")}))}function y(){let e=document.getElementById("clear");if(e)e.classList.add("clear-btn");else{let e=document.createElement("div");e.classList.add("tag","clear-btn"),e.id="clear",e.innerText="Clear X",e.addEventListener("click",(()=>{g=[],u(),E(t)})),tags.append(e)}}function E(e){h=e,fetch(e).then((e=>e.json())).then((e=>{0!==e.results.length?(!function(e){n.innerHTML="",e.forEach((e=>{const{title:t,poster_path:i,vote_average:a,overview:d}=e,s=document.createElement("div");var c;s.classList.add("movie"),s.innerHTML=`\n        <img src="${i?"https://image.tmdb.org/t/p/w500"+i:"http://via.placeholder.com/1080x1580"}" alt="${t}" width="300" height="450">\n        <div class="movie-info">\n        <h3>${t}</h3>\n        <span class="${c=a,c>=8?"green":c>=5?"orange":"red"}">${a.toFixed(1)}</span>        \n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ${d}\n        </div>\n        `,n.appendChild(s)}))}(e.results),o=e.page,r=o+1,m=o-1,v=e.total_pages,c.innerText=o,o<=1?(s.classList.add("disabled"),l.classList.remove("disabled")):o>=v?(s.classList.remove("disabled"),l.classList.add("disabled")):(s.classList.remove("disabled"),l.classList.remove("disabled")),d.scrollIntoView({behavior:"smooth"})):n.innerHTML='<h2 class="no-results">No results found</h2>'}))}function L(e){let t=h.split("?"),n=t[1].split("&"),i=n[n.length-1].split("=");if(i[0]!==e){E(h+"&page="+e)}else{i[1]=e.toString();let a=i.join("=");n[n.length-1]=a;let d=n.join("&");E(t[0]+"?"+d)}}u(),E(t),i.addEventListener("submit",(e=>{e.preventDefault();const n=a.value;g=[],p(),E(n?"https://api.themoviedb.org/3/search/movie?api_key=a3ba6241cf3e8caa1456599894b81cc2&query="+n:t)})),s.addEventListener("click",(()=>{m>0&&L(m)})),l.addEventListener("click",(()=>{r<=v&&L(r)}));
//# sourceMappingURL=index.39dff3d1.js.map
