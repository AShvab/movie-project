const e="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=a3ba6241cf3e8caa1456599894b81cc2",n=document.getElementById("main"),t=document.getElementById("form"),i=document.getElementById("search"),a=document.getElementById("tags"),d=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];let c=[];function s(){a.innerHTML="",d.forEach((n=>{const t=document.createElement("div");t.classList.add("tag"),t.id=n.id,t.innerText=n.name,t.addEventListener("click",(()=>{0===c.length?c.push(n.id):c.includes(n.id)?c.forEach(((e,t)=>{e===n.id&&c.splice(t,1)})):c.push(n.id),console.log(c),m(e+"&with_genres="+encodeURI(c.join(","))),o()})),a.append(t)}))}function o(){document.querySelectorAll(".tag").forEach((e=>{e.classList.remove("highlight")})),r(),0!==c.length&&c.forEach((e=>{document.getElementById(e).classList.add("highlight")}))}function r(){let n=document.getElementById("clear");if(n)n.classList.add("clear-btn");else{let n=document.createElement("div");n.classList.add("tag","clear-btn"),n.id="clear",n.innerText="Clear X",n.addEventListener("click",(()=>{c=[],s(),m(e)})),tags.append(n)}}function m(e){fetch(e).then((e=>e.json())).then((e=>{0!==e.results.length?function(e){n.innerHTML="",e.forEach((e=>{const{title:t,poster_path:i,vote_average:a,overview:d}=e,c=document.createElement("div");var s;c.classList.add("movie"),c.innerHTML=`\n        <img src="${i?"https://image.tmdb.org/t/p/w500"+i:"http://via.placeholder.com/1080x1580"}" alt="${t}" width="300" height="450">\n        <div class="movie-info">\n        <h3>${t}</h3>\n        <span class="${s=a,s>=8?"green":s>=5?"orange":"red"}">${a.toFixed(1)}</span>        \n        </div>\n\n        <div class="overview">\n        <h3>Overview</h3>\n        ${d}\n        </div>\n        `,n.appendChild(c)}))}(e.results):n.innerHTML='<h2 class="no-results">No results found</h2>'}))}s(),m(e),t.addEventListener("submit",(n=>{n.preventDefault();const t=i.value;c=[],o(),m(t?"https://api.themoviedb.org/3/search/movie?api_key=a3ba6241cf3e8caa1456599894b81cc2&query="+t:e)}));
//# sourceMappingURL=index.a7bf7a12.js.map
